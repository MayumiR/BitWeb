<div class="modal fade" id="suplierModal" role="dialog"> 
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header" style="background-color: #CCFF66">

						<button type="button" class="close" data-dismiss="modal">&times;</button> 
						<h4>Suppliers Register</h4>	

								
					</div>					

					<div class="modal-body">	
						<div class="container">
							<ul class="nav nav-tabs" role="tablist">
								<li><a data-toggle="tab" href="#newcus">New Suppliers</a></li>
								<li><a data-toggle="tab" href="#regcus">Registered Suppliers</a></li>								
							</ul>							
						</div>

						<div class="tab-content">
							<div id="newcus" class="tab-pane fade">
								<div id="table" class="table-editable" style="width: auto;">	

									<table  class="table table-bordered table-responsive-md table-striped text-center" id="mytable">
										<thead>
								          	<tr >
									            <th  class="text-center">Route</th>
									            <th  class="text-center">ID</th>
									            <th  class="text-center">Supplier Name</th>
									            <th  class="text-center">Action</th>
									            <th > <button type="button" id="rowAddBtn" name="rowAddBtn" class="btn btn-success btn-sm rowAddBtn"><span class="glyphiocon glyphicon-plus" ></span></button></th>	

								          	</tr>
								        </thead>	         	
							        	 
							      	</table>
	  							</div>

	  							<script>

							    	$(document).ready(function(){
							    		const $tableID = $('#mytable');
							    		var rtComboVal ="", idTxtVal = "", nmTxtVal = "";
							    		$(document).on('click','.rowAddBtn', function(){
							    			var html = '';
							    			html += '<tr>';
							    			html += '<td> <select id="testSelect" name"testSelect"><option value=""></option><?php echo routeSelectCombo();?></select></td>';

							    			html += '<td><input type="text1" class="form-control" id="supId" name="supId" placeholder="ID"></td>';	

											html += '<td><input type="text1" class="form-control" id="supNm" name="supNm" placeholder="Name"></td>';
							    			// html += '<td><select name="routeName" class="form-control routeName"><option value="wer"></option><?php echo routeSelectCombo();?></select></td>';
							    			// html += '<td id="txt" class="pt-3-half" contenteditable="true">*00*</td>';
							    			// html += '<td class="pt-3-half" contenteditable="true">*Name*</td>';

							    			html += '<td><button type="button" name="suplierAdd" class="btn btn-sm suplierAdd" onclick=""><span class="glyphiocon glyphicon-plus"></td>';

							    			html += '<td><button type="Button" name="remove" class="btn btn-danger btn-sm remove"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';

							    			$('#mytable').append(html);	

							    			rtComboVal = document.getElementById("testSelect");	
											idTxtVal = document.getElementById("supId");												
											nmTxtVal = document.getElementById("supNm");
							    		
							    			//disable new row add for prevent add new row
							    			document.getElementById("rowAddBtn").disabled = true;

							    		});						
							    			

										$(document).on('click', '.suplierAdd', function(){											
												console.log("tbl data : " + rtComboVal.value+" : "+ idTxtVal.value+" : "+ nmTxtVal.value);

											if((rtComboVal.value != "" && rtComboVal.value != null) &&(idTxtVal.value != "" && idTxtVal.value != null) && (nmTxtVal.value != "" && nmTxtVal.value != null) ){
												console.log("if data : " + rtComboVal.value +" : "+ idTxtVal.value+" : "+ nmTxtVal.value);

												rtComboVal.value = "";
												idTxtVal.value = "";
												nmTxtVal.value = "";

											}	
										});

										$tableID.on('click', '.remove', function(){			
										console.log('remove btn');								
												$(this).parents('tr').detach();
										});
							    	});
					    		</script> 								
							</div>

							<div id="regcus" class="tab-pane fade">
								<div id="table" class="table-editable" style="width: auto;">	
									<div><input type="text1" class="form-control" id="searchTxtsupNm" name="searchTxtsupNm" placeholder="Search here..." oninput="<?php echo chngeFunction('this.value'); ?>"></div>

										<table  class="table table-bordered table-responsive-md table-striped text-center" id="mytable">
											<thead>
									          	<tr >
										            <th  class="text-center">Route</th>
										            <th  class="text-center">ID</th>
										            <th  class="text-center">Supplier Name</th>
										            <th  class="text-center">Action</th>
									          	</tr>
									        </thead>

								        	 <?php echo loadAllSuppliers(); ?>  
								      	</table>
	  							</div>	
							</div>
						</div>
					</div>			
				</div>			
			</div>
		</div>
		<script type="text/javascript">
			
			function removeRaw(input){
				$(input).parents('tr').detach();
			}

			// function chngeFunction(){
			// 	var catchedTxt = '';
			// 	catchedTxt = document.getElementById("searchTxtsupNm").value;
			// 	console.log("change val ++**  "+document.getElementById("searchTxtsupNm").value);
			// 	return catchedTxt;
			// }
		</script>
	<?php 

	

		function loadAllSuppliers(){			

		$connection = openCon();
			$supSql = "SELECT * FROM tea_supliers INNER JOIN route_tbl ON routeId = route_tbl_routeId ORDER BY supId ASC";
			$supResult = mysqli_query($connection,$supSql);
									
			if (mysqli_num_rows($supResult) != null) {
				while($supRow = mysqli_fetch_assoc($supResult)){
					
					echo '<tr><td><select name="routeName[]" class="form-control routeName"><option value="">'.$supRow['routeName'].'</option></select></td>';
					echo '<td class="pt-3-half" contenteditable="true" name="supIdTd">' .$supRow['supId'].'</td>';
					echo '<td class="pt-3-half" contenteditable="true" name="supNM" >'.$supRow['supName'].'</td>';
					echo '<td><button type="submit" name="suplier_update_Btn">Change</button></td>';
					echo '<td><button type="button" name="remove" class="btn btn-danger btn-sm remove" onclick="removeRaw(this)"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';
				}
			} else if (mysqli_num_rows($supResult) == null){
				echo"<option value=''>No supliers</option>";
			}

			closeCon($connection);
		}


	function chngeFunction($param){		

				// echo "console.log('change val ++**  '+document.getElementById('searchTxtsupNm').value);";
				echo "console.log('change **val** ++**  '+$param)";
				echo $param;
	

		// $connection = openCon();
		// 	$supSql = "SELECT * FROM tea_supliers INNER JOIN route_tbl ON routeId = route_tbl_routeId ORDER BY supId ASC";
		// 	$supResult = mysqli_query($connection,$supSql);
									
		// 	if (mysqli_num_rows($supResult) != null) {
		// 		while($supRow = mysqli_fetch_assoc($supResult)){
					
		// 			echo '<tr><td><select name="routeName[]" class="form-control routeName"><option value="">'.$supRow['routeName'].'</option></select></td>';
		// 			echo '<td class="pt-3-half" contenteditable="true" name="supIdTd">' .$supRow['supId'].'</td>';
		// 			echo '<td class="pt-3-half" contenteditable="true" name="supNM" >'.$supRow['supName'].'</td>';
		// 			echo '<td><button type="submit" name="suplier_update_Btn">Change</button></td>';
		// 			echo '<td><button type="button" name="remove" class="btn btn-danger btn-sm remove" onclick="removeRaw(this)"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';
		// 		}
		// 	} else if (mysqli_num_rows($supResult) == null){
		// 		echo"<option value=''>No supliers</option>";
		// 	}

		// 	closeCon($connection);


		}



		function routeSelectCombo(){
		$connection = openCon();
			$rtSql = "SELECT * FROM route_tbl ORDER BY routeName ASC";
			$rtResult = mysqli_query($connection,$rtSql);
									
			if (mysqli_num_rows($rtResult) != null) {
				while($rtRow= mysqli_fetch_assoc($rtResult)){
					$rts = $rtRow['routeName'];
					$rtsId = $rtRow['routeId'];
					echo '<option value="'.$rtsId.'">'.$rts.'</option>';
				}
			} else if (mysqli_num_rows($rtResult) == null){
				echo"<option value=''>No routes</option>";
			}
			closeCon($connection);
		}	

	?>
	</form>